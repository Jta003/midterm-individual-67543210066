# ğŸ“Š PART 1: C1 Context Diagram (Library Management System)
**à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ:**  
à¹à¸ªà¸”à¸‡à¸ à¸²à¸à¸£à¸§à¸¡à¸£à¸°à¸šà¸š â€“ à¹ƒà¸„à¸£à¹ƒà¸Šà¹‰? à¸£à¸°à¸šà¸šà¸—à¸³à¸­à¸°à¹„à¸£?  

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚
â”‚ System User â”‚
â”‚ (à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸«à¹‰à¸­à¸‡à¸ªà¸¡à¸¸à¸”, à¸à¸™à¸±à¸à¸‡à¸²à¸™, à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™) â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”‚ HTTP/JSON
â”‚ (CRUD Operations)
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚
â”‚ Library Management System â”‚
â”‚ â”‚
â”‚ â€¢ à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (CRUD) â”‚
â”‚ â€¢ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (available/borrowed) â”‚
â”‚ â€¢ à¸¢à¸·à¸¡/à¸„à¸·à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ â”‚
â”‚ â€¢ à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (available, borrowed, total) â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”‚ SQL Queries
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”‚
â”‚ SQLite Database â”‚
â”‚ (library.db) â”‚
â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢:

1. **Actors (à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™)**  
   - System User â€“ à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸«à¹‰à¸­à¸‡à¸ªà¸¡à¸¸à¸”, à¸à¸™à¸±à¸à¸‡à¸²à¸™, à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸—à¸±à¹ˆà¸§à¹„à¸›à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸£à¸°à¸šà¸š  

2. **System (à¸£à¸°à¸šà¸š)**  
   - Library Management System â€“ à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­  
     - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (à¹€à¸à¸´à¹ˆà¸¡, à¹à¸à¹‰à¹„à¸‚, à¸¥à¸š)  
     - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (available/borrowed)  
     - à¸¢à¸·à¸¡/à¸„à¸·à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­  
     - à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (available, borrowed, total)  

3. **External Systems (à¸£à¸°à¸šà¸šà¸ à¸²à¸¢à¸™à¸­à¸)**  
   - SQLite Database â€“ à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (`library.db`)  


   
# ğŸ—ï¸ PART 2: C2 Container Diagram (Layered Architecture)
**à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ:**  
à¹à¸ªà¸”à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸ à¸²à¸¢à¹ƒà¸™à¸£à¸°à¸šà¸š â€“ à¹à¸šà¹ˆà¸‡ Layers à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£  
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ CLIENT (Browser) â•‘
â•‘ Web UI / HTTP Client â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”‚
â”‚ HTTP/JSON
â”‚ (GET, POST, PUT, PATCH, DELETE)
â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ LIBRARY MANAGEMENT SYSTEM â•‘
â•‘ (Express.js Application) â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ ğŸ“‹ PRESENTATION LAYER â”‚ â•‘
â•‘ â”‚ â€¢ Routes (bookRoutes.js) â”‚ â•‘
â•‘ â”‚ - à¸à¸³à¸«à¸™à¸” API endpoints â”‚ â•‘
â•‘ â”‚ - Routing requests â”‚ â•‘
â•‘ â”‚ â€¢ Controllers (bookController.js) â”‚ â•‘
â•‘ â”‚ - à¸£à¸±à¸š HTTP Request â”‚ â•‘
â•‘ â”‚ - à¸ªà¹ˆà¸‡ HTTP Response â”‚ â•‘
â•‘ â”‚ - Error Handling â”‚ â•‘
â•‘ â”‚ â€¢ Middlewares (errorHandler.js) â”‚ â•‘
â•‘ â”‚ - Global error handling â”‚ â•‘
â•‘ â”‚ - Logging â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘ â”‚ JavaScript Objects â•‘
â•‘ â”‚ { title, author, isbn, status } â•‘
â•‘ â–¼ â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ ğŸ§  BUSINESS LOGIC LAYER â”‚ â•‘
â•‘ â”‚ â€¢ Services (bookService.js) â”‚ â•‘
â•‘ â”‚ - Business rules â”‚ â•‘
â•‘ â”‚ - Orchestration logic â”‚ â•‘
â•‘ â”‚ - Borrow/Return logic â”‚ â•‘
â•‘ â”‚ â€¢ Validators (bookValidator.js) â”‚ â•‘
â•‘ â”‚ - Input validation â”‚ â•‘
â•‘ â”‚ - Required fields check â”‚ â•‘
â•‘ â”‚ - ISBN format check â”‚ â•‘
â•‘ â”‚ Business Rules: â”‚ â•‘
â•‘ â”‚ âœ“ Title, author, ISBN required â”‚ â•‘
â•‘ â”‚ âœ“ ISBN must match valid pattern â”‚ â•‘
â•‘ â”‚ âœ“ Status must be 'available' or 'borrowed' â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘ â”‚ Data Objects â•‘
â•‘ â”‚ { id, title, author, isbn, status } â•‘
â•‘ â–¼ â•‘
â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘ â”‚ ğŸ’¾ DATA ACCESS LAYER â”‚ â•‘
â•‘ â”‚ â€¢ Repositories (bookRepository.js) â”‚ â•‘
â•‘ â”‚ - CRUD operations â”‚ â•‘
â•‘ â”‚ - SQL query execution â”‚ â•‘
â•‘ â”‚ - Data mapping â”‚ â•‘
â•‘ â”‚ â€¢ Database (connection.js) â”‚ â•‘
â•‘ â”‚ - Database connection â”‚ â•‘
â•‘ â”‚ - Initialize tables â”‚ â•‘
â•‘ â”‚ Methods: â”‚ â•‘
â•‘ â”‚ â€¢ findAll(status) â”‚ â•‘
â•‘ â”‚ â€¢ findById(id) â”‚ â•‘
â•‘ â”‚ â€¢ create(bookData) â”‚ â•‘
â•‘ â”‚ â€¢ update(id, bookData) â”‚ â•‘
â•‘ â”‚ â€¢ updateStatus(id, status) â”‚ â•‘
â•‘ â”‚ â€¢ delete(id) â”‚ â•‘
â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘ â”‚ SQL Queries â•‘
â•‘ â”‚ SELECT, INSERT, UPDATE, DELETE â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”‚
â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ SQLite Database (library.db) â•‘
â•‘ Table: books â•‘
â•‘ - id â•‘
â•‘ - title â•‘
â•‘ - author â•‘
â•‘ - isbn â•‘
â•‘ - status â•‘
â•‘ - created_at â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•



# ğŸ“Œ PART 3:Responsibilities à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸° Layer


## 1ï¸âƒ£ Presentation Layer (Layer 1)
**à¹„à¸Ÿà¸¥à¹Œà¸«à¸¥à¸±à¸:**  
- `routes/bookRoutes.js`  
- `controllers/bookController.js`  
- `middlewares/errorHandler.js`

**à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ / Responsibilities:**  
- à¸£à¸±à¸š HTTP requests à¸ˆà¸²à¸ client (Browser, Postman, etc.)  
- à¹à¸›à¸¥à¸‡ HTTP requests â†’ à¹€à¸£à¸µà¸¢à¸ Business Layer  
- à¸ªà¹ˆà¸‡ HTTP responses à¸à¸¥à¸±à¸š client  
- à¸ˆà¸±à¸”à¸à¸²à¸£ errors à¹à¸¥à¸° response codes (400, 404, 409, 500)  
- Routing: à¸à¸³à¸«à¸™à¸” API endpoints à¹€à¸Šà¹ˆà¸™ GET /books, POST /books  
- à¸—à¸³ input sanitization (à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™) à¸à¹ˆà¸­à¸™à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­à¹„à¸› Business Layer  

---

## 2ï¸âƒ£ Business Logic Layer (Layer 2)
**à¹„à¸Ÿà¸¥à¹Œà¸«à¸¥à¸±à¸:**  
- `services/bookService.js`  
- `validators/bookValidator.js`

**à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ / Responsibilities:**  
- à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥ Business rules à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š  
- Validate à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¹ˆà¸­à¸™à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ Database (à¹€à¸Šà¹ˆà¸™ ISBN format, Required fields)  
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸‚à¸­à¸‡à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ (available / borrowed)  
- Orchestrate operations:  
  - à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ â†’ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ â†’ à¹€à¸£à¸µà¸¢à¸ Repository â†’ à¸„à¸·à¸™à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ  
  - à¸¢à¸·à¸¡ / à¸„à¸·à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ â†’ à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š status â†’ à¸­à¸±à¸à¹€à¸”à¸— Database  
- à¸„à¸³à¸™à¸§à¸“à¸ªà¸–à¸´à¸•à¸´à¸«à¸£à¸·à¸­à¸„à¹ˆà¸²à¸•à¹ˆà¸²à¸‡ à¹† à¸à¹ˆà¸­à¸™à¸ªà¹ˆà¸‡à¸à¸¥à¸±à¸š Controller  

**Business rules examples:**  
- Title, Author, ISBN à¸•à¹‰à¸­à¸‡à¸¡à¸µà¸„à¹ˆà¸²  
- ISBN à¸•à¹‰à¸­à¸‡à¸•à¸£à¸‡à¸•à¸²à¸¡à¸£à¸¹à¸›à¹à¸šà¸š `(978|979) + 9 digits + digit/X`  
- Status à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™ `available` à¸«à¸£à¸·à¸­ `borrowed`  
- à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸–à¸¹à¸à¸¢à¸·à¸¡à¸­à¸¢à¸¹à¹ˆ  

---

## 3ï¸âƒ£ Data Access Layer (Layer 3)
**à¹„à¸Ÿà¸¥à¹Œà¸«à¸¥à¸±à¸:**  
- `repositories/bookRepository.js`  
- `database/connection.js`

**à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ / Responsibilities:**  
- à¸—à¸³à¸‡à¸²à¸™à¸à¸±à¸š Database à¹‚à¸”à¸¢à¸•à¸£à¸‡ (SQLite)  
- CRUD operations: Create, Read, Update, Delete  
- Query Database (SELECT, INSERT, UPDATE, DELETE)  
- Mapping à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ Database â†’ JavaScript objects  
- Initialize tables à¹à¸¥à¸°à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ Database  
- Abstract database operations à¸­à¸­à¸à¸ˆà¸²à¸ Business Layer  
- Return results / errors à¹ƒà¸«à¹‰ Business Layer  

**à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ Methods:**  
- `findAll(status)`  
- `findById(id)`  
- `create(bookData)`  
- `update(id, bookData)`  
- `updateStatus(id, status)`  
- `delete(id)`  

---

ğŸ’¡ **Summary:**  
| Layer | Responsibility |
|-------|----------------|
| Presentation | à¸£à¸±à¸šà¹à¸¥à¸°à¸•à¸­à¸š HTTP, Routing, Error handling |
| Business Logic | Validate, Apply business rules, Orchestrate operations |
| Data Access | Database CRUD, Query execution, Data mapping |


# ğŸ”„ PART 4:Data Flow: Request â†’ Response

1ï¸âƒ£ Data Flow Diagram (ASCII)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. CLIENT                                  â”‚
â”‚    POST /api/books                          â”‚
â”‚    Body: { title, author, isbn }           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. PRESENTATION LAYER (Routes)             â”‚
â”‚    bookRoutes.js                            â”‚
â”‚    router.post('/', bookController.createBook) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. PRESENTATION LAYER (Controller)         â”‚
â”‚    bookController.createBook(req, res)     â”‚
â”‚    - Parse request body                     â”‚
â”‚    - Call bookService.createBook(bookData) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. BUSINESS LOGIC LAYER (Service)          â”‚
â”‚    bookService.createBook(bookData)        â”‚
â”‚    - Validate input (validator)            â”‚
â”‚    - Apply business rules                  â”‚
â”‚    - Call repository to insert DB          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. DATA ACCESS LAYER (Repository)          â”‚
â”‚    bookRepository.create(bookData)         â”‚
â”‚    - Execute SQL INSERT                     â”‚
â”‚    - Return created book                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. DATABASE                                â”‚
â”‚    SQLite library.db                        â”‚
â”‚    - Insert into books table                â”‚
â”‚    - Return last inserted record            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. SERVICE â†’ CONTROLLER                     â”‚
â”‚    Return created book object               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. CONTROLLER â†’ CLIENT                      â”‚
â”‚    HTTP Response 201 Created                â”‚
â”‚    Body: { id, title, author, isbn }       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2ï¸âƒ£ Data Flow Explanation
1. Client:
   - à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (à¹€à¸ˆà¹‰à¸²à¸‚à¸­à¸‡à¸£à¹‰à¸²à¸™, à¸à¸™à¸±à¸à¸‡à¸²à¸™, à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£)
   - à¸ªà¹ˆà¸‡ HTTP Request à¹€à¸Šà¹ˆà¸™ POST /api/books à¸à¸£à¹‰à¸­à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­

2. Routes:
   - Routes à¸ˆà¸±à¸š route à¹à¸¥à¸°à¸à¸³à¸«à¸™à¸” controller
   - à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: router.post('/', bookController.createBook)

3. Controller:
   - Controller à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ request body
   - à¹€à¸£à¸µà¸¢à¸ service function à¹€à¸à¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­

4. Service:
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¹ˆà¸²à¸™ Validator
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Business Rules à¹€à¸Šà¹ˆà¸™ ISBN, à¸Šà¸·à¹ˆà¸­, à¸œà¸¹à¹‰à¹à¸•à¹ˆà¸‡
   - à¹€à¸£à¸µà¸¢à¸ Repository à¹€à¸à¸·à¹ˆà¸­à¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸‡ Database

5. Repository:
   - à¸—à¸³ SQL INSERT à¸¥à¸‡ table books
   - à¸„à¸·à¸™à¸„à¹ˆà¸² object à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¹à¸¥à¹‰à¸§

6. Database:
   - SQLite (library.db) à¸šà¸±à¸™à¸—à¸¶à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
   - à¸ªà¹ˆà¸‡à¸„à¹ˆà¸²à¸à¸¥à¸±à¸š last inserted record

7. Service â†’ Controller:
   - Service à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¹à¸¥à¹‰à¸§à¸à¸¥à¸±à¸š Controller

8. Controller â†’ Client:
   - Controller à¸ªà¹ˆà¸‡ HTTP Response à¸à¸¥à¸±à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
   - Status: 201 Created à¸à¸£à¹‰à¸­à¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡
